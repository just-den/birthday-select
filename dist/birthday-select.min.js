"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).birthdaySelect=t()}(void 0,function(){function e(e){var n,a,s;this.settings=(n=t,a=function(e){if("object"===_typeof(e))for(var t in e)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=e[t]);return i}(e),s={},l(n,function(e,t){s[t]=n[t]}),l(a,function(e,t){s[t]=a[t]}),s)}var f={en:{base:{day:"Day",month:"Month",year:"Year"},month:[{name:"January"},{name:"February"},{name:"March"},{name:"April"},{name:"May"},{name:"June"},{name:"July"},{name:"August"},{name:"September"},{name:"October"},{name:"November"},{name:"December"}]},ru:{base:{day:"День",month:"Месяц",year:"Год"},month:[{name:"Январь"},{name:"Февраль"},{name:"Март"},{name:"Апрель"},{name:"Май"},{name:"Июнь"},{name:"Июль"},{name:"Август"},{name:"Сентябрь"},{name:"Октябрь"},{name:"Ноябрь"},{name:"Декабрь"}]},de:{base:{day:"Tag",month:"Monat",year:"Jahr"},month:[{name:"Januar"},{name:"Februar"},{name:"März"},{name:"April"},{name:"Mai"},{name:"Juni"},{name:"Juli"},{name:"August"},{name:"September"},{name:"Oktober"},{name:"November"},{name:"Dezember"}]}},t={day:f.en.base.day,month:f.en.base.month,year:f.en.base.year,days:[],months:f.en.month,years:[]},i={id:null,minYear:1900,maxYear:(new Date).getFullYear(),bootstrap:!1,labels:[],lang:"en"};function l(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(n,e[a],a,e);else if(e)for(var s=0,i=e.length;s<i;s++)t.call(n,e[s],s,e)}function p(a){var s=[];this.settings.months.forEach(function(e,t){t++;var n={};n.index=t<=9?"0"+t:t.toString(),n.name=e.name,n.disabled=!!a&&-1!==a.indexOf(n.index),s.push(n)}),this.settings.months=s}function b(n){x(n);var e=new Option(this.settings.month,"",!0,!0);e.disabled="disabled",n.add(e),this.settings.months.forEach(function(e){var t=new Option(e.name,e.index);e.disabled&&(t.disabled="disabled"),n.add(t)})}function g(e){for(var t=Number(this.settings.minYear),n=Number(this.settings.maxYear),a=[];t<=n;){var s={};s.index=n,s.disabled=!!e&&(n%4||!(n%100)&&n%400),a.push(s),n--}this.settings.years=a}function y(n){x(n);var e=new Option(this.settings.year,"",!0,!0);e.disabled="disabled",n.add(e),this.settings.years.forEach(function(e){var t=new Option(e.index,e.index);e.disabled&&(t.disabled="disabled"),n.add(t)})}function v(){return"_"+Math.random().toString(36).substr(2,9)}function x(e){for(;e.firstChild;)e.removeChild(e.firstChild)}return e.prototype.init=function(){var n=this;(function(e){for(var t=[],n=1;n<=31;n++){var a={};a.index=n<=9?"0"+n:n.toString(),a.disabled=!!e&&-1===e.indexOf(a.index),t.push(a)}this.settings.days=t}).call(this,null),p.call(this,null),g.call(this,null);try{if(this.settings.id){f.hasOwnProperty(this.settings.lang)&&(this.settings.day=f[this.settings.lang].base.day,this.settings.month=f[this.settings.lang].base.month,this.settings.year=f[this.settings.lang].base.year,this.settings.months=f[this.settings.lang].month),console.log("this.settings.month: ",this.settings.month);var e=document.querySelector(this.settings.id),a=document.createElement("select");console.log("selectDay: ",_typeof(a)),function(n){x(n);var e=new Option(this.settings.day,"",!0,!0);e.disabled="disabled",n.add(e),this.settings.days.forEach(function(e){var t=new Option(e.index,e.index);e.disabled&&(t.disabled="disabled"),n.add(t)})}.call(this,a),a.addEventListener("change",function(e){var t=e.currentTarget;if("1"<=t.value&&t.value<="29")p.call(n,null);else if("30"===t.value){b.call(n,s)}else if("31"===t.value){p.call(n,["02","04","06","09","11"])}b.call(n,s)},!1);var s=document.createElement("select");b.call(this,s),s.addEventListener("change",function(e){var t=e.currentTarget;g.call(n,null),29===a.selectedIndex&&"02"===t.value&&g.call(n,"leap"),y.call(n,i)},!1);var i=document.createElement("select");if(y.call(this,i),this.settings.labels&&0<this.settings.labels.length||this.settings.bootstrap){var t=document.createElement("div");if(this.settings.labels[0]){var l=v(),r=document.createElement("label");r.innerHTML=this.settings.labels[0],r.for=l,a.id=l,t.appendChild(r)}this.settings.bootstrap&&(t.className="form-group",a.className="custom-select",a.required="required"),t.appendChild(a);var o=document.createElement("div");if(this.settings.labels[1]){var d=v(),m=document.createElement("label");m.innerHTML=this.settings.labels[1],m.for=d,s.id=d,o.appendChild(m)}this.settings.bootstrap&&(o.className="form-group",s.className="custom-select",s.required="required"),o.appendChild(s);var c=document.createElement("div");if(this.settings.labels[2]){var h=v(),u=document.createElement("label");u.innerHTML=this.settings.labels[2],u.for=h,i.id=h,c.appendChild(u)}this.settings.bootstrap&&(c.className="form-group",i.className="custom-select",i.required="required"),c.appendChild(i),e.appendChild(t),e.appendChild(o),e.appendChild(c)}else e.appendChild(a),e.appendChild(s),e.appendChild(i)}}catch(e){console.log("ERROR: ",e)}},"undefined"!=typeof window&&(window.birthdaySelect=e),e});